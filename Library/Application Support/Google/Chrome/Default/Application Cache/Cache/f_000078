oQa.prototype.qs=fP(37,g("C"));ez.prototype.qs=fP(36,function(){return W(this,2)});function iZd(a){a.O=!0;return a}function o3(a){Zf(this,a,0,-1,null,null)}v(o3,Yf);o3.prototype.qs=function(){return E(this,1)};o3.prototype.eY=function(){return E(this,2)};function jZd(){try{return!!ka.localStorage.getItem("docs-uoo")}catch(a){return!0}}function kZd(a){a?ka.localStorage.setItem("docs-wownoi","true"):ka.localStorage.removeItem("docs-wownoi")}
function lZd(a){a?ka.localStorage.setItem("docs-rops","true"):ka.localStorage.removeItem("docs-rops")}function mZd(a){a?ka.localStorage.setItem("docs-ropd","true"):ka.localStorage.removeItem("docs-ropd")}function nZd(a){Zf(this,a,0,-1,null,null)}v(nZd,Yf);nZd.prototype.p6=function(){return E(this,1)};nZd.prototype.eY=function(){return E(this,2)};
function oZd(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function pZd(a){ar.call(this);this.O=a;wq(this,"Turn on offline for all files?");a=new Eq;Jq(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Jq(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Hq(this,a);Gq(this,!1);this.ri=this.Xr=!0;a=new FR;xq(this,Rp(MDc(a,oZd)));this.C=this.F=null}v(pZd,ar);
pZd.prototype.Ja=function(){pZd.oa.Ja.call(this);Tq(this,this.D.ov);this.F=Ie(this.va(),"docs-offline-optindialog-disclaimer-link");this.C=Ie(this.va(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Pc(this.F,"click",this.L)};pZd.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};pZd.prototype.L=function(){K(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function qZd(a,b,c,d){D.call(this);this.D=a;this.Aa=b;this.L=c;this.O=new Xo(this.L,QBa(),this);this.Va=d;this.F=Bf();this.H=this.C=null;this.J=!1}v(qZd,D);qZd.prototype.start=function(){var a=this;rZd(this,"Initialization").then(function(){a.J=!0;a.F.resolve(null);a.O.V($ya,a.ma).V(Nya,a.qa).V(Rya,a.R)},function(b){a.F.resolve(cf(b))})};function sZd(a){return a.F.C.then(function(a){if(null!=a)throw a;})}
qZd.prototype.ma=function(a){a=hg(a,Yya,1);for(var b=0;b<a.length;b++){var c=a[b].Pz(dza);if(c&&E(c,1)==this.D){tZd(this,"Document data changed");break}}};qZd.prototype.qa=function(a){E(a,1)==this.D&&tZd(this,"Document available")};qZd.prototype.R=function(){tZd(this,"Offline disabled")};function tZd(a,b){Df(rZd(a,b),function(b){om(a.Va,cf(b))})}
function rZd(a,b){return Df(uZd(a.Aa,[a.D]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=E(e,7),e=E(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.H!=e);a.C=c;a.H=e;b&&a.dispatchEvent("Lf");f&&a.dispatchEvent("Mf")}),function(a){throw df(a,{pinStatusUpdateReason:b});})};function vZd(){D.call(this);this.C=3;this.D=null;this.H=!1;this.F=Bf()}v(vZd,D);function wZd(a){return a.F.C.then(function(a){if(null!=a)throw a;})}vZd.prototype.KB=g("D");function xZd(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("Nf")}function yZd(a){if(!a.D)return!1;a=a.D.qs();return 1==a||6==a}vZd.prototype.p6=g("C");function p3(a){Zf(this,a,0,-1,null,null)}v(p3,Yf);p3.prototype.getType=function(){return E(this,1)};p3.prototype.setType=function(a){F(this,1,a)};function zZd(a){Zf(this,a,0,-1,null,null)}v(zZd,Yf);zZd.prototype.getType=function(){return E(this,1)};zZd.prototype.setType=function(a){F(this,1,a)};zZd.prototype.yK=function(){return gg(this,AZd,2)};function AZd(a){Zf(this,a,0,-1,null,null)}v(AZd,Yf);AZd.prototype.getType=function(){return E(this,1)};AZd.prototype.setType=function(a){F(this,1,a)};
AZd.prototype.getErrorMessage=function(){return E(this,2)};function BZd(a){Zf(this,a,0,-1,CZd,null)}v(BZd,Yf);var CZd=[1];function DZd(a){Zf(this,a,0,-1,EZd,null)}v(DZd,Yf);var EZd=[1];function FZd(a){Zf(this,a,0,-1,null,null)}v(FZd,Yf);FZd.prototype.H=function(){return gg(this,nZd,1)};function GZd(a){Zf(this,a,0,-1,null,null)}v(GZd,Yf);GZd.prototype.KB=function(){return gg(this,o3,1)};function HZd(a){Zf(this,a,0,-1,null,null)}v(HZd,Yf);function IZd(a){Zf(this,a,0,-1,null,null)}v(IZd,Yf);
IZd.prototype.KB=function(){return gg(this,o3,1)};function JZd(a){Zf(this,a,0,-1,null,null)}v(JZd,Yf);JZd.prototype.getId=function(){return E(this,1)};JZd.prototype.hf=function(a){F(this,1,a)};JZd.prototype.getTitle=function(){return E(this,2)};JZd.prototype.iq=function(){return E(this,3)};function KZd(a){Zf(this,a,0,-1,LZd,null)}v(KZd,Yf);var LZd=[1];function MZd(a){Zf(this,a,0,-1,null,null)}v(MZd,Yf);MZd.prototype.getId=function(){return E(this,1)};MZd.prototype.hf=function(a){F(this,1,a)};
MZd.prototype.getType=function(){return E(this,2)};MZd.prototype.setType=function(a){F(this,2,a)};function NZd(a,b,c,d,e,f,h,k,l){z.call(this);this.Ea=a;this.Ga=b;this.Na=c;this.H=d;this.D=e;this.Va=k;this.Aa=new yo;this.Ma=new di(this);this.Ba(this.Ma);this.La=a.C;this.ma=f;this.Pa=h;this.J=this.C=null;this.F=l;this.O=zr(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.qa=zr(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.R=zr(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=zr(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}v(NZd,z);p=NZd.prototype;p.init=function(){var a=this;Af([wZd(this.D),sZd(this.H)]).then(function(){I.jw.subscribe("action",a.eIa,a);a.Ma.V(a.H,"Lf",a.ryb).V(a.H,"Mf",a.Owb).V(a.D,"Nf",a.Qwb);OZd(a);I.jw.setVisible(Tf)},function(b){a.Va.Tc(cf(b))})};p.eIa=function(){PZd(this)};
function PZd(a){return Zxa(a.Aa).then(function(){if(so()){if(1==a.D.C)return QZd(a);yZd(a.D)?RZd(a):SZd(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=Jq(Jq(new Eq,{key:"ok",caption:"Install"},!0),Rq,!1,!0),c=a.ma,d=aDc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.r8a,null,a,void 0,b,void 0);c.Gh(d);d.focus();a.J=d;Tq(a.J,b.ov)}})}
p.r8a=function(){var a=this;this.Aa.install().then(function(){return PZd(a)},function(b){b=cf(b);a.Va.Tc(b);Bxa(b)})};function QZd(a){var b=!I.jw.Md();return Df((new vf(function(b){var c=a.La;Pl(c.C,8192)?b():(Um(c.J,c.Ea,Ve(b)),c.create())})).then(function(){var c=new MZd;c.hf(a.Ea.mc());c.setType(a.Ga);return TZd(a.Na,[c],b)}),function(b){SZd(a,a.R);a.Va.log(cf(b))})}function UZd(a){Df(VZd(a.Pa),function(b){a.Va.log(cf(b))}).then(function(){if(1==a.D.C)return QZd(a);SZd(a,a.L)})}
function RZd(a){a.C||(a.C=new pZd(function(){return UZd(a)}),a.ma.Gh(a.C),a.Ma.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.ryb=function(){OZd(this);WZd(this);this.H.C||SZd(this,this.qa)};p.Owb=function(){WZd(this)};p.Qwb=function(){OZd(this)};function WZd(a){var b;if(b=1==a.D.C)b=a.H.H;b&&a.H.C&&SZd(a,a.O)}function SZd(a,b){b.Ob()||b.render();a.O.setVisible(!1);a.qa.setVisible(!1);a.R.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function OZd(a){I.jw.Qa(1==a.D.C||yZd(a.D));I.jw.hc(a.H.C)}p.Ha=function(){I.jw.unsubscribe("action",this.eIa,this);this.C&&(Gs(this.ma,this.C),A(this.C));this.J&&(Gs(this.ma,this.J),A(this.J));NZd.oa.Ha.call(this);Br(this.F,this.O);Br(this.F,this.qa);Br(this.F,this.R);Br(this.F,this.L);Eb(this.O,this.qa,this.R,this.L)};function XZd(a,b){this.I9=a;this.LN=b};function YZd(a,b,c,d,e){z.call(this);this.Va=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new uBa;this.J=c;this.D=null;this.F=new Qm;this.Ba(this.F);this.C=ZZd(this)}v(YZd,z);function ZZd(a){a.C&&A(a.C);var b=Jh(G(),"lssv");return new zBa(a.Va,a.O,0,a.I5a.bind(a),b,!0,a.J,new qAa)}function $Zd(a){if(a.D)return a.D;a.D=a_d(a);return Df(a.D,function(b){a.taa();throw b;})}
function b_d(a){return $Zd(a).then(function(a){return(new vf(function(b,d){zwa(a.KQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Kh(G(),"docs-offline-lsuid")?new XZd(a,b[0]):null}.bind(this))}.bind(a))}p=YZd.prototype;p.get=function(){return b_d(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.I9})};function a_d(a){return(new vf(function(a,c){If(this.C.create(this.taa.bind(this)),a,c)}.bind(a))).then(a.Gub.bind(a))}
p.Gub=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new fza(a,this.H);this.Ba(c)}hva(a);Tm(this.F,a.C.C.H,function(){b.taa()});Tm(this.F,a.C.O,function(){b.taa()});return a};p.taa=function(){A(this.C);this.C=ZZd(this);this.D=null};p.I5a=function(a){return Mza(this.L,a)};p.Ha=function(){A(this.C);YZd.oa.Ha.call(this)};function c_d(a){this.D=a}c_d.prototype.C=function(a){var b=new eU;YNc(b,a.serialize());this.D.log(b);this.D.H()};function d_d(a){this.D=a}d_d.prototype.C=function(a){var b=new eU;YNc(b,a.serialize());this.D.log(b);return new vf(function(a,b){this.D.flush(a,b)}.bind(this))};function e_d(a){this.D=a}e_d.prototype.C=function(a,b,c){b_d(this.D).then(t(function(d){d?(new Pec(d.I9,"offline",null)).C(a,b,c):b()},this))};function f_d(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(Vq({id:"docs-offline-optinpromo-confirm-close",content:cq("Close")},c||b));return P(a+"</div></div>")};function g_d(a){D.call(this);this.ub=a||Ud();this.Ma=new di(this);this.Ba(this.Ma);this.C=new lq(a);this.C.nA(!1);Yk(this.C.D,!1);this.C.Id("docs-offline-optinpromo");this.C.render();a=this.C.Oa();Ce(a,!0);Oh(a,"dialog");Ph(a,"labelledby","docs-offline-optinpromo-title");Ph(a,"describedby","docs-offline-optinpromo-description");this.Ba(this.C);this.L=new Wq(null);this.Ba(this.L);this.J=new Wq(null);this.Ba(this.J);this.H=new Wq(null);this.Ba(this.H);this.O=this.F=this.D=null;h_d(this,i_d)}v(g_d,D);
function i_d(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(Vq({id:"docs-offline-optinpromo-optin",content:cq("Turn on offline access"),style:2},b));a+=O(Vq({id:"docs-offline-optinpromo-decline",content:cq("No thanks"),style:0},b));return P(a+"</div>")}
function h_d(a,b){var c=N(b);a.C.setContent(c);switch(b){case i_d:a.Ma.V(a.C,"show",a.Gyb);b=a.ub.getElement("docs-offline-optinpromo-optin");a.L.gb(b);a.Ma.Pc(a.L,"action",t(a.oxb,a));b=a.ub.getElement("docs-offline-optinpromo-decline");a.J.gb(b);a.Ma.Pc(a.J,"action",t(a.uob,a));a.D=a.ub.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.ub.getElement("docs-offline-optinpromo-link-show-less");a.O=a.ub.getElement("docs-offline-optinpromo-learn-more-container");a.Ma.V(a.D,"click",t(a.wRa,
a,!0)).V(a.F,"click",t(a.wRa,a,!1));break;case f_d:b=a.ub.getElement("docs-offline-optinpromo-confirm-close");a.H.gb(b);a.Ma.Pc(a.H,"action",t(a.show,a,!1));a.C.Oa().focus();break;default:throw Error("Cannot handle state "+b);}a.ub.getElement("docs-offline-optinpromo-title");a.ub.getElement("docs-offline-optinpromo-description")}p=g_d.prototype;p.wRa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.oxb=function(){this.dispatchEvent(new B("Pf"))};p.uob=function(){this.dispatchEvent(new B("Qf"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new B("Rf"))};p.Gyb=function(){this.C.Oa().focus();this.dispatchEvent(new B("Of"))};function j_d(a,b){this.L=a;this.H=b}function k_d(a){return l_d(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new o3;F(a,1,1);return a},a.J.bind(a))}j_d.prototype.J=function(a){if(a instanceof o3)return a;if(a instanceof Error)throw a;throw Error(a);};
function l_d(a){var b=new o3;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return xf();case 4:return F(b,1,3),a=a.eY(),F(b,2,a),zf(b);case 1:return F(b,1,2),zf(b);case 5:return F(b,1,4),zf(b);default:throw Error("Unexpected enabled state: "+c);}})}j_d.prototype.D=function(){return(new vf(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return xf();a=new o3;F(a,1,5);return zf(a)})};j_d.prototype.C=function(){if(so())return xf();var a=new o3;F(a,1,6);return zf(a)};
j_d.prototype.F=function(){var a=Jh(G(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new vf(function(b,c){EWa(function(d,e){e>a?b():(d=new o3,F(d,1,7),F(d,3,a),F(d,4,e),c(d))},c)})};function m_d(a,b,c){this.D=a;this.C=c||null}m_d.prototype.eY=g("C");function n_d(a,b){this.C=a;this.Va=b}n_d.prototype.get=function(){return b_d(this.C).then(function(a){return a?new m_d(1,a.LN.getId(),a.LN.XF(),o_d(this)):$Zd(this.C).then(function(a){return(new vf(function(b,d){zwa(a.KQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new m_d(4,a.getId(),a.XF());else throw Error("More than one user in store: "+a.length);else a=jZd()?new m_d(2):tza()?new m_d(5):new m_d(3);return a}.bind(this))}.bind(this))}.bind(this))};
function o_d(a){a=new nXa(a.Va);var b=G(),c=H(b,"docs-dbsw"),d=[];c&&H(b,"docs-offline-esmst")&&d.push(new Lu("metadata-sync",0,!0,new Ku(1,Yo(),Nu("metadata"),3E5,!0,!0)));c&&H(b,"docs-offline-esbst")&&d.push(new Lu("service-worker-update",0,!0,new Ku(2,ZBa(),Nu("service_worker_update"),3E5,!0,!1)),zWa());H(b,"docs-offline-edswut")&&d.push(new Lu("drive-service-worker",0,!0,new Ku(2,$Ba(Kh(G(),"drdn"),"/drive/serviceworker/update",!0),Nu("drive_service_worker_update"),3E5,!0,!0)));H(b,"docs-offline-eshcst")&&
d.push(new Lu("homescreen-cello-sync",Jh(G(),"docs-offline-scstpim"),!0,new Ku(2,$Ba(nl(ka.location.href),"/document/backgroundsync"),new Mu,3E5,!0,!0)));H(b,"docs-offline-esdcst")&&d.push(new Lu("drive-cello-sync",Jh(G(),"docs-offline-scstpim"),!0,new Ku(2,$Ba(Kh(G(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Mu,3E5,!0,!0)));c&&H(b,"docs-offline-eslcst")&&d.push(new Lu("local-changes-sync",0,!1,new Ku(1,Yo(),Nu("local_changes_sync"),3E5,!0,!1)));c&&H(b,"docs-offline-esast")&&!H(b,"docs-offline-eoasks")&&
d.push(new Lu("auto-sync",Jh(G(),"docs-offline-sastpim"),!1,new Ku(1,Yo(),Nu("auto_sync"),3E5,!0,!0)));c&&H(b,"docs-offline-eswst")&&d.push(new Lu("webfonts-sync",0,!0,new Ku(1,Yo(),Nu("webfonts_sync"),3E5,!0,!0)));c&&H(b,"docs-offline-esist")&&d.push(new Lu("impression-sync",0,!1,new Ku(1,Yo(),Nu("impressionSync"),3E5,!0,!1)));c&&H(b,"docs-offline-esddt")&&d.push(new Lu("document-deletion",0,!1,new Ku(1,Yo(),Nu("doc_deletion"),3E5,!1,!1)));c&&H(b,"docs-offline-esuuct")&&d.push(new Lu("update-unsaved-changes",
0,!1,new Ku(2,ZBa(),Nu("update_unsaved_changes"),3E5,!1,!1)));c&&H(b,"docs-offline-esct")&&d.push(new Lu("cleanup-task",0,!1,new Ku(2,ZBa(),Nu("cleanup"),3E5,!1,!1)));c&&H(b,"docs-offline-esrt")&&d.push(new Lu("report-task",0,!1,new Ku(2,ZBa(),Nu("report"),3E5,!1,!1)));c&&H(b,"docs-offline-eskst")&&d.push(new Lu("kix-snapshot",0,!1,new Ku(1,$Ba(nl(ka.location.href),"/document/snapshot.js"),new Mu,3E5,!1,!1)));c&&H(b,"docs-offline-esost")&&d.push(new Lu("sync-objects-sync",0,!0,new Ku(1,Yo(),Nu("sync_objects_sync"),
3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=VWa(a,b[d].getId()),!c||!bg(c,5,!1))return!1;return!0};function p_d(a){this.C=a}function q_d(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Fa()});a.C.setItem("optInLog",Vl(c))}function r_d(){var a=ka.localStorage;if(!a)throw Error("Local storage not available");return new p_d(a)};function s_d(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function t_d(a){return $Zd(a.H).then(function(a){return u_d(this,a).then(function(){var b=MBa();if(!b)throw Error("Missing user info for enabling offline in flags.");return v_d(this,a,b)}.bind(this))}.bind(a)).then(function(a){return w_d(this,a)}.bind(a))}function u_d(a,b){return(new vf(function(a,d){zwa(b.KQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function v_d(a,b,c){var d=new Uua(E(c,1),!0);Vua(d,c.XF());Wua(d,E(c,3));Xua(d,!!E(c,4));Yua(d,!!E(c,6));d.setProperty("optInReasons",a.C);return(new vf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function w_d(a,b){q_d(r_d(),b.XF()||"");ka.localStorage&&(ka.localStorage.removeItem("docs-uoo"),ka.localStorage.setItem("docs-oiouid",b.getId()));b=new Jo;var c=new Oya;mg(b,Pya,c);eza(a.F,b);b=new yo;var d=new NBa(b);return Vxa(b).then(function(){return new vf(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=OBa(),c=new sla;this.C[0]&&F(c,1,uwa(this.C[0]));F(c,10,a);F(c,11,b);a=this.D.Tz(81E3,0);b=$O(a);ig(b,34,c);this.D.Uz(a)}.bind(a))};function x_d(a,b,c,d,e,f,h){z.call(this);this.ub=h||Ud();this.D=a;this.Va=b;this.J=c;this.Nb=d;a=new bCa;this.Ba(a);this.F=new No(a,QBa());this.Ba(this.F);this.Ta=new Xo(this.F,QBa(),this);this.Ba(this.Ta);this.Ra=new Xo(this.F,null,this);this.Ba(this.Ra);this.ma=new YZd(this.Va,this.F,e,"OfflinePromoControllerLockSessionId");this.Ba(this.ma);e=new n_d(this.ma,this.Va);a=new yo;this.Mb=new j_d(e,new NBa(a));e=this.ma;b=G();a=H(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=Kh(b,"gaia_session_id");
a=new qOc(306,b||null,a,!(za(ka)&&ka.window==ka)||!ka.document||!ka.document.documentElement,!0);b=new d_d(a);e=Tf&&rAa&&(TBa()||UBa())?new e_d(e):new Oec;e=new Mec(b,null,e);a=new c_d(a);b=SAa();e=Fec(Eec(iZd(Cec(Bec(new Aec,e),a)),b),84).build();a=yec(e.PC());b=(new Lec(!1)).get();a.H=b;this.qb=e;this.qb.mH();this.sb=kDa(this.ub);this.C=null;this.Ma=new di(this);this.Ba(this.Ma);this.Ea=new Qm;this.Ba(this.Ea);this.Ga=new jj(this.Yrb,6E4,this);this.Ba(this.Ga);this.xb=!1;this.O=this.La=this.L=null;
this.H=new $e("docs-offline-promo-reload-butter-dismisss");this.Ba(this.H);this.H.setProperty("label","Dismiss");this.H.Qa(!0);this.H.Tb(Ra,this.Vob.bind(this));this.R=mo.getInstance();this.qa=this.Pa=this.Aa=this.Db=!1;this.Na=Tf&&oj("56.0.2924.87");this.Wa=!1;this.Hb=f}v(x_d,z);p=x_d.prototype;p.init=function(){var a=this;so()&&(y_d(this),z_d(this),q3(this).then(function(){A_d(a)},function(b){a.Va.Tc(cf(b))}))};
function A_d(a){a.F.connect();Tm(a.Ea,a.D.vQ(),function(){a.Ga.start();q3(a)});Tm(a.Ea,a.D.wQ(),function(){a.Ga.stop();y_d(a);z_d(a);q3(a)});a.Ma.V(a.sb,"change",a.u8a);a.Ta.V(Pya,a.t8a);a.Ra.V(Pya,a.s8a).V(Tya,a.qkb)}
function q3(a){return k_d(a.Mb).then(function(b){var c=1==b.qs()&&!a.Aa,d=a.D.Ji(),e;if(!(e=a.qa)&&(e=!jZd())){try{var f=!!ka.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=H(G(),"promo_show_on_load");if((c=c&&a.Na&&e)&&!(c=!d)){try{var h=!!ka.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Db||(h?a.C||(a.C=new g_d(a.ub),a.Ba(a.C),a.Ma.V(a.C,"Pf",a.pxb).V(a.C,"Qf",a.lxb).V(a.C,"Rf",a.F6a),a.C.show(!0),B_d(a)):a.C&&a.C.show(!1));if(a.Nb){if(2==b.qs()||d||h)C_d(a);else if(a.La&&
!ng(b,a.La)&&C_d(a),null==a.L){h=D_d(b);if(!a.Wa)switch(b.qs()){case 1:break;case 3:E_d(a,"Offline ineligible, other user enabled");break;case 7:E_d(a,"Offline ineligible, insufficient disk space");break;case 5:E_d(a,"Offline ineligible, policy disallows");break;case 6:E_d(a,"Offline ineligible, no extension");break;case 4:E_d(a,"Offline ineligible, invalid db state");break;default:E_d(a,"Offline ineligible, unknown reason")}b=1==b.qs()&&a.Na?po(h,"Turn on...",a.dzb.bind(a),"info",!1):oo(h,"info",
!1);a.L=a.R.postMessage(b)}d&&a.Aa&&!a.Pa?null==a.O&&(d=po("Reload to start editing even when offline.","Reload",a.ezb.bind(a),"info",!0,void 0,a.H),a.O=a.R.postMessage(d)):null!=a.O&&(no(a.R,a.O),a.O=null)}})}p.Yrb=function(){sza()||kZd(!0)};
p.qxb=function(){if(this.D.Ji()){var a=Kh(G(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(iq("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=WFa("Your documents are syncing",Rp(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.ub);K(b.Yq(),"docs-offline-welcomepromo-bg");this.Ba(b);this.C&&this.C.show(!1)}else this.Db=!0,h_d(this.C,f_d);this.Aa=!0;q3(this)};p.t8a=function(){this.Aa=!0;q3(this)};p.s8a=function(){q3(this)};p.qkb=function(){this.qa=!1;q3(this)};
p.nxb=function(a){this.Va.Tc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=zr(this.Hb,"Turning on offline access failed. Please try again later.",this.ub);a.D=!0;a.render();a.setVisible(!0);this.Ba(a)};p.pxb=function(){this.J.Ib(2054);kZd(!1);t_d(new s_d(this.ma,this.F,this.qb)).then(t(this.qxb,this),t(this.nxb,this))};
p.lxb=function(){this.D.Ji()?this.J.Ib(2055):mZd(!0);kZd(!1);ka.localStorage.setItem("docs-urop","true");this.qa=!1;q3(this);var a=new Jo,b=new Sya;mg(a,Tya,b);eza(this.F,a)};
function D_d(a){switch(a.qs()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.eY()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function E_d(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";om(a.Va,Error("Offline editing disabled: "+b),c);a.Wa=!0}function C_d(a){null!=a.L&&(no(a.R,a.L),a.L=null,a.La=null)}p.dzb=function(){this.qa=!0;q3(this)};p.ezb=function(){ka.location.reload()};p.Vob=function(){this.Pa=!0};p.u8a=function(){B_d(this)};p.F6a=function(){A(this.C);this.C=null};function B_d(a){!a.xb&&a.C&&"hidden"!=a.sb.getState()&&(a.D.Ji()?a.J.Ib(2847):lZd(!0),a.xb=!0)}
function y_d(a){try{var b=!!ka.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Ji()&&(lZd(!1),a.J.Ib(2847))}function z_d(a){try{var b=!!ka.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Ji()&&(mZd(!1),a.J.Ib(2055))};function F_d(a,b,c,d,e,f,h){z.call(this);this.D=b;this.J=Bf();G_d(this);this.F=this.H=null;this.O=a;this.C=c;this.Ma=new di(this);this.Ba(this.Ma);this.L=new Qm;this.Ba(this.L);this.R=d;this.ma=e;this.Aa=f;this.qa=h}v(F_d,z);p=F_d.prototype;p.start=function(){var a=this;H_d(this.D).then(function(b){b.connect();a.J.resolve(b)});I_d(this);Tm(this.L,this.O.wQ(),function(){J_d(a)})};
function VZd(a){if(2!=a.C.p6())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.p6());xZd(a.C,4);return K_d(a.D,10).then(function(a){var b=a.qs();return xf().then(function(){return 1==b||2==b?r3(this,1):r3(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.KB=function(){return this.D.KB()};
function I_d(a){Df(a.D.H().then(function(a){switch(a.p6()){case 1:return L_d(this.D).then(function(){return r3(this,1)}.bind(this)).then(function(){J_d(this)}.bind(this));case 2:return r3(this,2);case 4:return M_d(this,a.eY());case 3:return a=E(a,3),null!=a?N_d(this,a):r3(this,2);case 5:return O_d(this)}}.bind(a)),function(a){this.C.F.resolve(a)}.bind(a))}
p.ZDb=function(a){1==this.C.C&&!this.C.H&&0==E(a,2)&&Df(this.D.H().then(function(a){var b=this.C;a=E(a,5);b.H=a;b.dispatchEvent("Nf")}.bind(this)),ba().bind(this))};function M_d(a){return r3(a,2)}function N_d(a,b){return a.ma?K_d(a.D,b).then(function(a){switch(a.qs()){case 1:return r3(this,1);case 2:return r3(this,1);default:return r3(this,2)}}.bind(a)):xf()}
function O_d(a){return a.Aa?K_d(a.D,2).then(function(a){switch(a.qs()){case 1:case 2:return r3(this,1);default:return r3(this,2)}}.bind(a)):xf()}function G_d(a){a.J.C.then(function(a){this.H=new Xo(a,"user_"+this.R,this);this.Ba(this.H);this.F=new Xo(a,null,this);this.Ba(this.F);this.H.V(Pya,this.w8a).V(Rya,this.Fwb).V(Vya,this.ZDb);this.F.V(Pya,this.v8a).V(Rya,this.pkb)}.bind(a))}p.w8a=function(){Df(r3(this,1),ba().bind(this))};p.Fwb=function(){Df(r3(this,2),ba().bind(this))};p.v8a=function(){P_d(this)};
p.pkb=function(){P_d(this)};function r3(a,b){return a.KB().then(function(a){xZd(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=E(a,5);b.H=a;b.dispatchEvent("Nf")}.bind(this))}.bind(a)).then(ba().bind(a))}function P_d(a){a.KB().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("Nf")}.bind(a))}function J_d(a){a.qa&&1==a.C.C&&Df(Q_d(a.D),ba().bind(a))};function R_d(a){this.D=a}R_d.prototype.C=g("D");function s3(a,b,c,d){z.call(this);this.F=Bf();this.ub=d||Ud();this.Ma=new di(this);this.Ba(this.Ma);this.J=a;a=new zl(b);a.zc("ouid",this.J);aCa()&&a.zc("Debug","true");Hl(a,"cd="+c);if(Lb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Cl(Bl(Al(new zl,a.H),a.C),a.J).toString();this.C=this.ub.Da("IFRAME",{style:"display:none"});Ad(this.C,wo(a.toString()));this.Ma.V(Le(this.ub),"message",this.O);this.ub.Sb().body.appendChild(this.C);this.D=!1}v(s3,z);
function H_d(a){var b=new p3;b.setType(1);return t3(a,b).then(function(a){a=new No(new R_d(a.port),"user_"+this.J);this.Ba(a);return a}.bind(a))}function uZd(a,b){var c=new p3;c.setType(2);var d=new BZd;F(d,1,b||[]);ig(c,2,d);return t3(a,c).then(function(a){return hg(gg(a.response,DZd,3),JZd,1)}.bind(a))}s3.prototype.H=function(){var a=new p3;a.setType(4);return t3(this,a).then(function(a){return gg(a.response,FZd,4).H()}.bind(this))};
s3.prototype.KB=function(){var a=new p3;a.setType(10);return t3(this,a).then(function(a){return gg(a.response,GZd,7).KB()}.bind(this))};function TZd(a,b,c){var d=new p3;d.setType(5);var e=new KZd;jg(e,1,b);F(e,2,c);ig(d,3,e);return t3(a,d).then(ba())}function K_d(a,b){var c=new p3;c.setType(6);var d=new HZd;F(d,1,b);ig(c,4,d);return t3(a,c).then(function(a){return gg(a.response,IZd,5).KB()})}function L_d(a){var b=new p3;b.setType(9);return t3(a,b).then(ba())}
function Q_d(a){var b=new p3;b.setType(11);return t3(a,b).then(ba())}
function t3(a,b){return a.F.C.then(function(a){var c=Fa(),e=new MessageChannel;a.postMessage(b.Qf(),[e.port2]);var f=Bf();e.port1.onmessage=t(function(a){a=new S_d(a);a.response&&a.response.yK()?(a=a.response.yK(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=gj(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Fa()-c)+"ms."))},ma(void 0)?void 0:3E4);Cf(f.C,function(){e.port1.close();
hj(h)});return f.C}.bind(a))}s3.prototype.O=function(a){(a=a.re)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Db(this,a.close,a),this.F.resolve(a),this.D=!0),A(this.Ma))};s3.prototype.Ha=function(){this.ub.tf(this.C);s3.oa.Ha.call(this)};function S_d(a){this.response=a.data?new zZd(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function T_d(a,b,c,d,e,f,h,k,l,m){z.call(this);this.F=Kh(G(),"docs-offline-lsuid");H(G(),"docs-offline-eeooip")&&(c=new x_d(a,b,c,d,h,l,m),this.Ba(c),c.init());this.H=new bCa;this.C=new No(this.H,QBa());this.Ba(this.C);this.C.connect();this.D=new vZd;this.Ba(this.D);!H(G(),"docs-offline-eiedp")||H(G(),"docs-isd")&&!H(G(),"docs-offline-esdp")||(c=YBa("/iframeapi",void 0),c=new s3(this.F,c,1),this.Ba(c),a=new F_d(a,c,this.D,this.F,!1,!1,!1),this.Ba(a),a.start(),d=new qZd(e.mc(),c,this.C,b),this.Ba(d),
d.start(),b=new NZd(e,f,c,d,this.D,k,a,b,l),this.Ba(b),b.init())}v(T_d,z);function U_d(){z.call(this)}v(U_d,Gz);U_d.prototype.C=function(a,b,c,d,e,f,h,k,l){return new T_d(a,b,c,!0,d,e,f,h,k,l)};Nz("offline",U_d);
