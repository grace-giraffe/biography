vOa.prototype.ws=bP(35,g("C"));az.prototype.ws=bP(34,function(){return V(this,2)});function OXd(a){a.O=!0;return a}function o3(a){Xf(this,a,0,-1,null,null)}x(o3,Wf);o3.prototype.ws=function(){return F(this,1)};o3.prototype.gY=function(){return F(this,2)};function PXd(){try{return!!ka.localStorage.getItem("docs-uoo")}catch(a){return!0}}function QXd(a){a?ka.localStorage.setItem("docs-wownoi","true"):ka.localStorage.removeItem("docs-wownoi")}
function RXd(a){a?ka.localStorage.setItem("docs-rops","true"):ka.localStorage.removeItem("docs-rops")}function SXd(a){a?ka.localStorage.setItem("docs-ropd","true"):ka.localStorage.removeItem("docs-ropd")}function TXd(a){Xf(this,a,0,-1,null,null)}x(TXd,Wf);TXd.prototype.w6=function(){return F(this,1)};TXd.prototype.gY=function(){return F(this,2)};
function UXd(){return P('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')};function VXd(a){Ts.call(this);this.O=a;Jp(this,"Turn on offline for all files?");a=new Up;Zp(a,{key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);Zp(a,{key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Xp(this,a);Wp(this,!1);this.Ci=this.fs=!0;a=new HR;Np(this,lq(BCc(a,UXd)));this.C=this.F=null}x(VXd,Ts);
VXd.prototype.Ja=function(){VXd.oa.Ja.call(this);hq(this,this.D.rv);this.F=Ge(this.va(),"docs-offline-optindialog-disclaimer-link");this.C=Ge(this.va(),"docs-offline-optindialog-disclaimer");this.getHandler().V(this,"dialogselect",this.J).Xc(this.F,"click",this.L)};VXd.prototype.J=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key&&this.O();this.setVisible(!1)};VXd.prototype.L=function(){J(this.F,"docs-offline-optindialog-disclaimer-link-disabled");L(this.C,!0);this.C.focus()};function WXd(a,b,c,d){E.call(this);this.D=a;this.Aa=b;this.L=c;this.O=new lp(this.L,vBa(),this);this.mb=d;this.F=zf();this.H=this.C=null;this.J=!1}x(WXd,E);WXd.prototype.start=function(){var a=this;XXd(this,"Initialization").then(function(){a.J=!0;a.F.resolve(null);a.O.V(Fya,a.ma).V(sya,a.qa).V(wya,a.R)},function(b){a.F.resolve(af(b))})};function YXd(a){return a.F.C.then(function(a){if(null!=a)throw a;})}
WXd.prototype.ma=function(a){a=cg(a,Dya,1);for(var b=0;b<a.length;b++){var c=a[b].Sz(Jya);if(c&&F(c,1)==this.D){ZXd(this,"Document data changed");break}}};WXd.prototype.qa=function(a){F(a,1)==this.D&&ZXd(this,"Document available")};WXd.prototype.R=function(){ZXd(this,"Offline disabled")};function ZXd(a,b){Bf(XXd(a,b),function(b){Cm(a.mb,af(b))})}
function XXd(a,b){return Bf($Xd(a.Aa,[a.D]).then(function(b){var c=!1,e=!1;1==b.length&&(e=b[0],c=F(e,7),e=F(e,8));var f=b=!1;a.J&&(b=a.C!=c,f=a.H!=e);a.C=c;a.H=e;b&&a.dispatchEvent("Hf");f&&a.dispatchEvent("If")}),function(a){throw bf(a,{pinStatusUpdateReason:b});})};function aYd(){E.call(this);this.C=3;this.D=null;this.H=!1;this.F=zf()}x(aYd,E);function bYd(a){return a.F.C.then(function(a){if(null!=a)throw a;})}aYd.prototype.PB=g("D");function cYd(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.F.resolve(null);a.dispatchEvent("Jf")}function dYd(a){if(!a.D)return!1;a=a.D.ws();return 1==a||6==a}aYd.prototype.w6=g("C");function p3(a){Xf(this,a,0,-1,null,null)}x(p3,Wf);p3.prototype.getType=function(){return F(this,1)};p3.prototype.setType=function(a){G(this,1,a)};function eYd(a){Xf(this,a,0,-1,null,null)}x(eYd,Wf);eYd.prototype.getType=function(){return F(this,1)};eYd.prototype.setType=function(a){G(this,1,a)};eYd.prototype.yK=function(){return bg(this,fYd,2)};function fYd(a){Xf(this,a,0,-1,null,null)}x(fYd,Wf);fYd.prototype.getType=function(){return F(this,1)};fYd.prototype.setType=function(a){G(this,1,a)};
fYd.prototype.getErrorMessage=function(){return F(this,2)};function gYd(a){Xf(this,a,0,-1,hYd,null)}x(gYd,Wf);var hYd=[1];function iYd(a){Xf(this,a,0,-1,jYd,null)}x(iYd,Wf);var jYd=[1];function kYd(a){Xf(this,a,0,-1,null,null)}x(kYd,Wf);kYd.prototype.H=function(){return bg(this,TXd,1)};function lYd(a){Xf(this,a,0,-1,null,null)}x(lYd,Wf);lYd.prototype.PB=function(){return bg(this,o3,1)};function mYd(a){Xf(this,a,0,-1,null,null)}x(mYd,Wf);function nYd(a){Xf(this,a,0,-1,null,null)}x(nYd,Wf);
nYd.prototype.PB=function(){return bg(this,o3,1)};function oYd(a){Xf(this,a,0,-1,null,null)}x(oYd,Wf);oYd.prototype.getId=function(){return F(this,1)};oYd.prototype.sf=function(a){G(this,1,a)};oYd.prototype.getTitle=function(){return F(this,2)};oYd.prototype.mq=function(){return F(this,3)};function pYd(a){Xf(this,a,0,-1,qYd,null)}x(pYd,Wf);var qYd=[1];function rYd(a){Xf(this,a,0,-1,null,null)}x(rYd,Wf);rYd.prototype.getId=function(){return F(this,1)};rYd.prototype.sf=function(a){G(this,1,a)};
rYd.prototype.getType=function(){return F(this,2)};rYd.prototype.setType=function(a){G(this,2,a)};function sYd(a,b,c,d,e,f,h,k,l){A.call(this);this.Ea=a;this.Ga=b;this.Oa=c;this.H=d;this.D=e;this.mb=k;this.Aa=new To;this.Ma=new Yh(this);this.Ba(this.Ma);this.La=a.C;this.ma=f;this.Na=h;this.J=this.C=null;this.F=l;this.O=Mt(this.F,"Document now available offline",void 0,!1,3E3,!1,void 0,!0);this.qa=Mt(this.F,"Document no longer available offline",void 0,!1,3E3,!1,void 0,!0);this.R=Mt(this.F,"Could not make the document available offline.",void 0,!1,3E3,!1,void 0,!0);this.L=Mt(this.F,"Could not enable offline access.",
void 0,!1,3E3,!1,void 0,!0)}x(sYd,A);p=sYd.prototype;p.init=function(){var a=this;yf([bYd(this.D),YXd(this.H)]).then(function(){I.ow.subscribe("action",a.YHa,a);a.Ma.V(a.H,"Hf",a.kyb).V(a.H,"If",a.Gwb).V(a.D,"Jf",a.Iwb);tYd(a);I.ow.setVisible(Rf)},function(b){a.mb.Wc(af(b))})};p.YHa=function(){uYd(this)};
function uYd(a){return Exa(a.Aa).then(function(){if(Ko()){if(1==a.D.C)return vYd(a);dYd(a.D)?wYd(a):xYd(a,a.L)}else{a.J&&a.J.setVisible(!1);var b=Zp(Zp(new Up,{key:"ok",caption:"Install"},!0),bq,!1,!0),c=a.ma,d=QBc("Extension needed","To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.r8a,null,a,void 0,b,void 0);c.Kh(d);d.focus();a.J=d;hq(a.J,b.rv)}})}
p.r8a=function(){var a=this;this.Aa.install().then(function(){return uYd(a)},function(b){b=af(b);a.mb.Wc(b);gxa(b)})};function vYd(a){var b=!I.ow.Pd();return Bf((new tf(function(b){var c=a.La;Xl(c.C,8192)?b():(cn(c.J,c.Ea,Te(b)),c.create())})).then(function(){var c=new rYd;c.sf(a.Ea.xc());c.setType(a.Ga);return yYd(a.Oa,[c],b)}),function(b){xYd(a,a.R);a.mb.log(af(b))})}function zYd(a){Bf(AYd(a.Na),function(b){a.mb.log(af(b))}).then(function(){if(1==a.D.C)return vYd(a);xYd(a,a.L)})}
function wYd(a){a.C||(a.C=new VXd(function(){return zYd(a)}),a.ma.Kh(a.C),a.Ma.V(a.C,"hide",function(){a.C=null}),a.C.setVisible(!0))}p.kyb=function(){tYd(this);BYd(this);this.H.C||xYd(this,this.qa)};p.Gwb=function(){BYd(this)};p.Iwb=function(){tYd(this)};function BYd(a){var b;if(b=1==a.D.C)b=a.H.H;b&&a.H.C&&xYd(a,a.O)}function xYd(a,b){b.Rb()||b.render();a.O.setVisible(!1);a.qa.setVisible(!1);a.R.setVisible(!1);a.L.setVisible(!1);b.setVisible(!0)}
function tYd(a){I.ow.$a(1==a.D.C||dYd(a.D));I.ow.rc(a.H.C)}p.Ha=function(){I.ow.unsubscribe("action",this.YHa,this);this.C&&(fG(this.ma,this.C),C(this.C));this.J&&(fG(this.ma,this.J),C(this.J));sYd.oa.Ha.call(this);Or(this.F,this.O);Or(this.F,this.qa);Or(this.F,this.R);Or(this.F,this.L);Cb(this.O,this.qa,this.R,this.L)};function CYd(a,b){this.N9=a;this.NN=b};function DYd(a,b,c,d,e){A.call(this);this.mb=a;this.H=b;this.O=d?d:"DefaultLocalStoreSessionId";this.L=e||new $Aa;this.J=c;this.D=null;this.F=new an;this.Ba(this.F);this.C=EYd(this)}x(DYd,A);function EYd(a){a.C&&C(a.C);var b=Fh(H(),"lssv");return new eBa(a.mb,a.O,0,a.J5a.bind(a),b,!0,a.J,new Wza)}function FYd(a){if(a.D)return a.D;a.D=GYd(a);return Bf(a.D,function(b){a.uaa();throw b;})}
function HYd(a){return FYd(a).then(function(a){return(new tf(function(b,d){fwa(a.LQ(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Gh(H(),"docs-offline-lsuid")?new CYd(a,b[0]):null}.bind(this))}.bind(a))}p=DYd.prototype;p.get=function(){return HYd(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.N9})};function GYd(a){return(new tf(function(a,c){Ff(this.C.create(this.uaa.bind(this)),a,c)}.bind(a))).then(a.zub.bind(a))}
p.zub=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.H){var c=new Lya(a,this.H);this.Ba(c)}Oua(a);bn(this.F,a.C.C.H,function(){b.uaa()});bn(this.F,a.C.O,function(){b.uaa()});return a};p.uaa=function(){C(this.C);this.C=EYd(this);this.D=null};p.J5a=function(a){return rza(this.L,a)};p.Ha=function(){C(this.C);DYd.oa.Ha.call(this)};function IYd(a){this.D=a}IYd.prototype.C=function(a){var b=new fU;PMc(b,a.serialize());this.D.log(b);this.D.H()};function JYd(a){this.D=a}JYd.prototype.C=function(a){var b=new fU;PMc(b,a.serialize());this.D.log(b);return new tf(function(a,b){this.D.flush(a,b)}.bind(this))};function KYd(a){this.D=a}KYd.prototype.C=function(a,b,c){HYd(this.D).then(v(function(d){d?(new odc(d.N9,"offline",null)).C(a,b,c):b()},this))};function LYd(a,b,c){a='<div><div id="docs-offline-optinpromo-title">You\'re all set</div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline. Sweet.</div><div class="docs-offline-optinpromo-confirm-buttons">'+O(Fq({id:"docs-offline-optinpromo-confirm-close",content:xq("Close")},c||b));return P(a+"</div></div>")};function MYd(a){E.call(this);this.Bb=a||Sd();this.Ma=new Yh(this);this.Ba(this.Ma);this.C=new kr(a);this.C.qA(!1);al(this.C.D,!1);this.C.Md("docs-offline-optinpromo");this.C.render();a=this.C.Pa();Ae(a,!0);Kh(a,"dialog");Lh(a,"labelledby","docs-offline-optinpromo-title");Lh(a,"describedby","docs-offline-optinpromo-description");this.Ba(this.C);this.L=new Gq(null);this.Ba(this.L);this.J=new Gq(null);this.Ba(this.J);this.H=new Gq(null);this.Ba(this.H);this.O=this.F=this.D=null;NYd(this,OYd)}x(MYd,E);
function OYd(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title">Work offline and don\'t miss a beat</div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn More</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br>'+
O(Fq({id:"docs-offline-optinpromo-optin",content:xq("Turn on offline access"),style:2},b));a+=O(Fq({id:"docs-offline-optinpromo-decline",content:xq("No thanks"),style:0},b));return P(a+"</div>")}
function NYd(a,b){var c=N(b);a.C.setContent(c);switch(b){case OYd:a.Ma.V(a.C,"show",a.zyb);b=a.Bb.getElement("docs-offline-optinpromo-optin");a.L.qb(b);a.Ma.Xc(a.L,"action",v(a.gxb,a));b=a.Bb.getElement("docs-offline-optinpromo-decline");a.J.qb(b);a.Ma.Xc(a.J,"action",v(a.qob,a));a.D=a.Bb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.Bb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.Bb.getElement("docs-offline-optinpromo-learn-more-container");a.Ma.V(a.D,"click",v(a.uRa,
a,!0)).V(a.F,"click",v(a.uRa,a,!1));break;case LYd:b=a.Bb.getElement("docs-offline-optinpromo-confirm-close");a.H.qb(b);a.Ma.Xc(a.H,"action",v(a.show,a,!1));a.C.Pa().focus();break;default:throw Error("Cannot handle state "+b);}a.Bb.getElement("docs-offline-optinpromo-title");a.Bb.getElement("docs-offline-optinpromo-description")}p=MYd.prototype;p.uRa=function(a){L(this.D,!a);L(this.F,a);L(this.O,a);(a?this.F:this.D).focus();return!1};p.gxb=function(){this.dispatchEvent(new D("Lf"))};p.qob=function(){this.dispatchEvent(new D("Mf"))};
p.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new D("Nf"))};p.zyb=function(){this.C.Pa().focus();this.dispatchEvent(new D("Kf"))};function PYd(a,b){this.L=a;this.H=b}function QYd(a){return RYd(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){var a=new o3;G(a,1,1);return a},a.J.bind(a))}PYd.prototype.J=function(a){if(a instanceof o3)return a;if(a instanceof Error)throw a;throw Error(a);};
function RYd(a){var b=new o3;return a.L.get().then(function(a){var c=a.D;switch(c){case 3:case 2:return vf();case 4:return G(b,1,3),a=a.gY(),G(b,2,a),xf(b);case 1:return G(b,1,2),xf(b);case 5:return G(b,1,4),xf(b);default:throw Error("Unexpected enabled state: "+c);}})}PYd.prototype.D=function(){return(new tf(function(a,b){this.H.C(a,b)}.bind(this))).then(function(a){if(a)return vf();a=new o3;G(a,1,5);return xf(a)})};PYd.prototype.C=function(){if(Ko())return vf();var a=new o3;G(a,1,6);return xf(a)};
PYd.prototype.F=function(){var a=Fh(H(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new tf(function(b,c){gVa(function(d,e){e>a?b():(d=new o3,G(d,1,7),G(d,3,a),G(d,4,e),c(d))},c)})};function SYd(a,b,c){this.D=a;this.C=c||null}SYd.prototype.gY=g("C");function TYd(a,b){this.C=a;this.mb=b}TYd.prototype.get=function(){return HYd(this.C).then(function(a){return a?new SYd(1,a.NN.getId(),a.NN.$F(),UYd(this)):FYd(this.C).then(function(a){return(new tf(function(b,d){fwa(a.LQ(),b,d)})).then(function(a){if(a.length)if(1==a.length)a=a[0],a=new SYd(4,a.getId(),a.$F());else throw Error("More than one user in store: "+a.length);else a=PXd()?new SYd(2):Zya()?new SYd(5):new SYd(3);return a}.bind(this))}.bind(this))}.bind(this))};
function UYd(a){a=new QVa(a.mb);var b=H(),c=Eh(b,"docs-dbsw"),d=[];c&&Eh(b,"docs-offline-esmst")&&d.push(new Hu("metadata-sync",0,!0,new Gu(1,mp(),Ju("metadata"),3E5,!0,!0)));c&&Eh(b,"docs-offline-esbst")&&d.push(new Hu("service-worker-update",0,!0,new Gu(2,EBa(),Ju("service_worker_update"),3E5,!0,!1)),bVa());Eh(b,"docs-offline-edswut")&&d.push(new Hu("drive-service-worker",0,!0,new Gu(2,FBa(Gh(H(),"drdn"),"/drive/serviceworker/update",!0),Ju("drive_service_worker_update"),3E5,!0,!0)));Eh(b,"docs-offline-eshcst")&&
d.push(new Hu("homescreen-cello-sync",Fh(H(),"docs-offline-scstpim"),!0,new Gu(2,FBa(ql(ka.location.href),"/document/backgroundsync"),new Iu,3E5,!0,!0)));Eh(b,"docs-offline-esdcst")&&d.push(new Hu("drive-cello-sync",Fh(H(),"docs-offline-scstpim"),!0,new Gu(2,FBa(Gh(H(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Iu,3E5,!0,!0)));c&&Eh(b,"docs-offline-eslcst")&&d.push(new Hu("local-changes-sync",0,!1,new Gu(1,mp(),Ju("local_changes_sync"),3E5,!0,!1)));c&&Eh(b,"docs-offline-esast")&&!Eh(b,
"docs-offline-eoasks")&&d.push(new Hu("auto-sync",Fh(H(),"docs-offline-sastpim"),!1,new Gu(1,mp(),Ju("auto_sync"),3E5,!0,!0)));c&&Eh(b,"docs-offline-eswst")&&d.push(new Hu("webfonts-sync",0,!0,new Gu(1,mp(),Ju("webfonts_sync"),3E5,!0,!0)));c&&Eh(b,"docs-offline-esist")&&d.push(new Hu("impression-sync",0,!1,new Gu(1,mp(),Ju("impressionSync"),3E5,!0,!1)));c&&Eh(b,"docs-offline-esddt")&&d.push(new Hu("document-deletion",0,!1,new Gu(1,mp(),Ju("doc_deletion"),3E5,!1,!1)));c&&Eh(b,"docs-offline-esuuct")&&
d.push(new Hu("update-unsaved-changes",0,!1,new Gu(2,EBa(),Ju("update_unsaved_changes"),3E5,!1,!1)));c&&Eh(b,"docs-offline-esct")&&d.push(new Hu("cleanup-task",0,!1,new Gu(2,EBa(),Ju("cleanup"),3E5,!1,!1)));c&&Eh(b,"docs-offline-esrt")&&d.push(new Hu("report-task",0,!1,new Gu(2,EBa(),Ju("report"),3E5,!1,!1)));c&&Eh(b,"docs-offline-eskst")&&d.push(new Hu("kix-snapshot",0,!1,new Gu(1,FBa(ql(ka.location.href),"/document/snapshot.js"),new Iu,3E5,!1,!1)));c&&Eh(b,"docs-offline-esost")&&d.push(new Hu("sync-objects-sync",
0,!0,new Gu(1,mp(),Ju("sync_objects_sync"),3E5,!0,!0)));b=[];for(c=0;c<d.length;c++){var e=d[c];e.C&&b.push(e)}for(d=0;d<b.length;d++)if(c=xVa(a,b[d].getId()),!c||!$f(c,5,!1))return!1;return!0};function VYd(a){this.C=a}function WYd(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ea()});a.C.setItem("optInLog",jm(c))}function XYd(){var a=ka.localStorage;if(!a)throw Error("Local storage not available");return new VYd(a)};function YYd(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function ZYd(a){return FYd(a.H).then(function(a){return $Yd(this,a).then(function(){var b=rBa();if(!b)throw Error("Missing user info for enabling offline in flags.");return aZd(this,a,b)}.bind(this))}.bind(a)).then(function(a){return bZd(this,a)}.bind(a))}function $Yd(a,b){return(new tf(function(a,d){fwa(b.LQ(),a,d)}.bind(a))).then(function(a){if(a&&a.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function aZd(a,b,c){var d=new Aua(F(c,1),!0);Bua(d,c.$F());Cua(d,F(c,3));Dua(d,!!F(c,4));Eua(d,!!F(c,6));d.setProperty("optInReasons",a.C);return(new tf(function(a,c){b.write([d],a,c)}.bind(a))).then(function(){return d})}
function bZd(a,b){WYd(XYd(),b.$F()||"");ka.localStorage&&(ka.localStorage.removeItem("docs-uoo"),ka.localStorage.setItem("docs-oiouid",b.getId()));b=new $o;var c=new tya;hg(b,uya,c);Kya(a.F,b);b=new To;var d=new sBa(b);return Axa(b).then(function(){return new tf(function(a,b){d.C(a,b)})}.bind(a)).then(function(a){var b=tBa(),c=new nla;this.C[0]&&G(c,1,awa(this.C[0]));G(c,10,a);G(c,11,b);a=this.D.Wz(81E3,0);b=WO(a);dg(b,34,c);this.D.Xz(a)}.bind(a))};function cZd(a,b,c,d,e,f,h){A.call(this);this.Bb=h||Sd();this.D=a;this.mb=b;this.J=c;this.Qb=d;a=new HBa;this.Ba(a);this.F=new bp(a,vBa());this.Ba(this.F);this.jb=new lp(this.F,vBa(),this);this.Ba(this.jb);this.eb=new lp(this.F,null,this);this.Ba(this.eb);this.ma=new DYd(this.mb,this.F,e,"OfflinePromoControllerLockSessionId");this.Ba(this.ma);e=new TYd(this.ma,this.mb);a=new To;this.Pb=new PYd(e,new sBa(a));e=this.ma;b=H();a=Eh(b,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;b=Gh(b,"gaia_session_id");
a=new hNc(306,b||null,a,!(ya(ka)&&ka.window==ka)||!ka.document||!ka.document.documentElement,!0);b=new JYd(a);e=Rf&&Xza&&(yBa()||zBa())?new KYd(e):new ndc;e=new ldc(b,null,e);a=new IYd(a);b=xAa();e=edc(ddc(OXd(bdc(adc(new $cc,e),a)),b),84).build();a=Ycc(e.XC());b=(new kdc(!1)).get();a.H=b;this.sb=e;this.sb.pH();this.xb=QCa(this.Bb);this.C=null;this.Ma=new Yh(this);this.Ba(this.Ma);this.Ea=new an;this.Ba(this.Ea);this.Ga=new dj(this.Rrb,6E4,this);this.Ba(this.Ga);this.Eb=!1;this.O=this.La=this.L=null;
this.H=new Ye("docs-offline-promo-reload-butter-dismisss");this.Ba(this.H);this.H.setProperty("label","Dismiss");this.H.$a(!0);this.H.Zb(Pa,this.Qob.bind(this));this.R=Co.getInstance();this.qa=this.Na=this.Aa=this.Hb=!1;this.Oa=Rf&&gj("56.0.2924.87");this.pb=!1;this.Jb=f}x(cZd,A);p=cZd.prototype;p.init=function(){var a=this;Ko()&&(dZd(this),eZd(this),q3(this).then(function(){fZd(a)},function(b){a.mb.Wc(af(b))}))};
function fZd(a){a.F.connect();bn(a.Ea,a.D.vQ(),function(){a.Ga.start();q3(a)});bn(a.Ea,a.D.wQ(),function(){a.Ga.stop();dZd(a);eZd(a);q3(a)});a.Ma.V(a.xb,"change",a.u8a);a.jb.V(uya,a.t8a);a.eb.V(uya,a.s8a).V(yya,a.mkb)}
function q3(a){return QYd(a.Pb).then(function(b){var c=1==b.ws()&&!a.Aa,d=a.D.Pi(),e;if(!(e=a.qa)&&(e=!PXd())){try{var f=!!ka.localStorage.getItem("docs-urop")}catch(k){f=!0}e=!f}f=Eh(H(),"promo_show_on_load");if((c=c&&a.Oa&&e)&&!(c=!d)){try{var h=!!ka.localStorage.getItem("docs-wownoi")}catch(k){h=!1}c=h&&!f}h=c;a.Hb||(h?a.C||(a.C=new MYd(a.Bb),a.Ba(a.C),a.Ma.V(a.C,"Lf",a.hxb).V(a.C,"Mf",a.dxb).V(a.C,"Nf",a.E6a),a.C.show(!0),gZd(a)):a.C&&a.C.show(!1));if(a.Qb){if(2==b.ws()||d||h)hZd(a);else if(a.La&&
!ig(b,a.La)&&hZd(a),null==a.L){h=iZd(b);if(!a.pb)switch(b.ws()){case 1:break;case 3:jZd(a,"Offline ineligible, other user enabled");break;case 7:jZd(a,"Offline ineligible, insufficient disk space");break;case 5:jZd(a,"Offline ineligible, policy disallows");break;case 6:jZd(a,"Offline ineligible, no extension");break;case 4:jZd(a,"Offline ineligible, invalid db state");break;default:jZd(a,"Offline ineligible, unknown reason")}b=1==b.ws()&&a.Oa?Fo(h,"Turn on...",a.Yyb.bind(a),"info",!1):Eo(h,"info",
!1);a.L=a.R.postMessage(b)}d&&a.Aa&&!a.Na?null==a.O&&(d=Fo("Reload to start editing even when offline.","Reload",a.Zyb.bind(a),"info",!0,void 0,a.H),a.O=a.R.postMessage(d)):null!=a.O&&(Do(a.R,a.O),a.O=null)}})}p.Rrb=function(){Yya()||QXd(!0)};
p.ixb=function(){if(this.D.Pi()){var a=Gh(H(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit "+('<a href="//'+Q(a)+'">'+(O(a)+("</a> to create and edit without interruption. "+('<a href="'+Q(Cq("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=P(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=hEa("Your documents are syncing",lq(b),void 0,
this,"Got it","docs-offline-welcomepromo",this.Bb);J(b.jr(),"docs-offline-welcomepromo-bg");this.Ba(b);this.C&&this.C.show(!1)}else this.Hb=!0,NYd(this.C,LYd);this.Aa=!0;q3(this)};p.t8a=function(){this.Aa=!0;q3(this)};p.s8a=function(){q3(this)};p.mkb=function(){this.qa=!1;q3(this)};
p.fxb=function(a){this.mb.Wc(a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=Mt(this.Jb,"Turning on offline access failed. Please try again later.",this.Bb);a.D=!0;a.render();a.setVisible(!0);this.Ba(a)};p.hxb=function(){this.J.Mb(2054);QXd(!1);ZYd(new YYd(this.ma,this.F,this.sb)).then(v(this.ixb,this),v(this.fxb,this))};
p.dxb=function(){this.D.Pi()?this.J.Mb(2055):SXd(!0);QXd(!1);ka.localStorage.setItem("docs-urop","true");this.qa=!1;q3(this);var a=new $o,b=new xya;hg(a,yya,b);Kya(this.F,a)};
function iZd(a){switch(a.ws()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.gY()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function jZd(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Cm(a.mb,Error("Offline editing disabled: "+b),c);a.pb=!0}function hZd(a){null!=a.L&&(Do(a.R,a.L),a.L=null,a.La=null)}p.Yyb=function(){this.qa=!0;q3(this)};p.Zyb=function(){ka.location.reload()};p.Qob=function(){this.Na=!0};p.u8a=function(){gZd(this)};p.E6a=function(){C(this.C);this.C=null};function gZd(a){!a.Eb&&a.C&&"hidden"!=a.xb.getState()&&(a.D.Pi()?a.J.Mb(2847):RXd(!0),a.Eb=!0)}
function dZd(a){try{var b=!!ka.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Pi()&&(RXd(!1),a.J.Mb(2847))}function eZd(a){try{var b=!!ka.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Pi()&&(SXd(!1),a.J.Mb(2055))};function kZd(a,b,c,d,e,f,h){A.call(this);this.D=b;this.J=zf();lZd(this);this.F=this.H=null;this.O=a;this.C=c;this.Ma=new Yh(this);this.Ba(this.Ma);this.L=new an;this.Ba(this.L);this.R=d;this.ma=e;this.Aa=f;this.qa=h}x(kZd,A);p=kZd.prototype;p.start=function(){var a=this;mZd(this.D).then(function(b){b.connect();a.J.resolve(b)});nZd(this);bn(this.L,this.O.wQ(),function(){oZd(a)})};
function AYd(a){if(2!=a.C.w6())throw Error("Cannot enable offline when it is not disabled. Current state:"+a.C.w6());cYd(a.C,4);return pZd(a.D,10).then(function(a){var b=a.ws();return vf().then(function(){return 1==b||2==b?r3(this,1):r3(this,2)}.bind(this)).then(function(){return a})}.bind(a))}p.PB=function(){return this.D.PB()};
function nZd(a){Bf(a.D.H().then(function(a){switch(a.w6()){case 1:return qZd(this.D).then(function(){return r3(this,1)}.bind(this)).then(function(){oZd(this)}.bind(this));case 2:return r3(this,2);case 4:return rZd(this,a.gY());case 3:return a=F(a,3),null!=a?sZd(this,a):r3(this,2);case 5:return tZd(this)}}.bind(a)),function(a){this.C.F.resolve(a)}.bind(a))}
p.TDb=function(a){1==this.C.C&&!this.C.H&&0==F(a,2)&&Bf(this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Jf")}.bind(this)),ba().bind(this))};function rZd(a){return r3(a,2)}function sZd(a,b){return a.ma?pZd(a.D,b).then(function(a){switch(a.ws()){case 1:return r3(this,1);case 2:return r3(this,1);default:return r3(this,2)}}.bind(a)):vf()}
function tZd(a){return a.Aa?pZd(a.D,2).then(function(a){switch(a.ws()){case 1:case 2:return r3(this,1);default:return r3(this,2)}}.bind(a)):vf()}function lZd(a){a.J.C.then(function(a){this.H=new lp(a,"user_"+this.R,this);this.Ba(this.H);this.F=new lp(a,null,this);this.Ba(this.F);this.H.V(uya,this.w8a).V(wya,this.ywb).V(Aya,this.TDb);this.F.V(uya,this.v8a).V(wya,this.lkb)}.bind(a))}p.w8a=function(){Bf(r3(this,1),ba().bind(this))};p.ywb=function(){Bf(r3(this,2),ba().bind(this))};p.v8a=function(){uZd(this)};
p.lkb=function(){uZd(this)};function r3(a,b){return a.PB().then(function(a){cYd(this.C,b,a)}.bind(a)).then(function(){return this.D.H().then(function(a){var b=this.C;a=F(a,5);b.H=a;b.dispatchEvent("Jf")}.bind(this))}.bind(a)).then(ba().bind(a))}function uZd(a){a.PB().then(function(a){var b=this.C;b.D=a;b.dispatchEvent("Jf")}.bind(a))}function oZd(a){a.qa&&1==a.C.C&&Bf(vZd(a.D),ba().bind(a))};function wZd(a){this.D=a}wZd.prototype.C=g("D");function s3(a,b,c,d){A.call(this);this.F=zf();this.Bb=d||Sd();this.Ma=new Yh(this);this.Ba(this.Ma);this.J=a;a=new Hl(b);a.Fc("ouid",this.J);GBa()&&a.Fc("Debug","true");Nl(a,"cd="+c);if(Jb(a.C))throw Error("Url contains invalid domain: "+b);this.L=Kl(Jl(Il(new Hl,a.H),a.C),a.J).toString();this.C=this.Bb.Da("IFRAME",{style:"display:none"});yd(this.C,Ro(a.toString()));this.Ma.V(Je(this.Bb),"message",this.O);this.Bb.Yb().body.appendChild(this.C);this.D=!1}x(s3,A);
function mZd(a){var b=new p3;b.setType(1);return t3(a,b).then(function(a){a=new bp(new wZd(a.port),"user_"+this.J);this.Ba(a);return a}.bind(a))}function $Xd(a,b){var c=new p3;c.setType(2);var d=new gYd;G(d,1,b||[]);dg(c,2,d);return t3(a,c).then(function(a){return cg(bg(a.response,iYd,3),oYd,1)}.bind(a))}s3.prototype.H=function(){var a=new p3;a.setType(4);return t3(this,a).then(function(a){return bg(a.response,kYd,4).H()}.bind(this))};
s3.prototype.PB=function(){var a=new p3;a.setType(10);return t3(this,a).then(function(a){return bg(a.response,lYd,7).PB()}.bind(this))};function yYd(a,b,c){var d=new p3;d.setType(5);var e=new pYd;eg(e,1,b);G(e,2,c);dg(d,3,e);return t3(a,d).then(ba())}function pZd(a,b){var c=new p3;c.setType(6);var d=new mYd;G(d,1,b);dg(c,4,d);return t3(a,c).then(function(a){return bg(a.response,nYd,5).PB()})}function qZd(a){var b=new p3;b.setType(9);return t3(a,b).then(ba())}
function vZd(a){var b=new p3;b.setType(11);return t3(a,b).then(ba())}
function t3(a,b){return a.F.C.then(function(a){var c=Ea(),e=new MessageChannel;a.postMessage(b.Vf(),[e.port2]);var f=zf();e.port1.onmessage=v(function(a){a=new xZd(a);a.response&&a.response.yK()?(a=a.response.yK(),f.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+a.getType()+"): "+a.getErrorMessage()))):f.resolve(a)},this);var h=aj(function(){f.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ea()-c)+"ms."))},t(void 0)?void 0:3E4);Af(f.C,function(){e.port1.close();
bj(h)});return f.C}.bind(a))}s3.prototype.O=function(a){(a=a.ze)&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.D&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],zb(this,a.close,a),this.F.resolve(a),this.D=!0),C(this.Ma))};s3.prototype.Ha=function(){this.Bb.yf(this.C);s3.oa.Ha.call(this)};function xZd(a){this.response=a.data?new eYd(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function yZd(a,b,c,d,e,f,h,k,l,m){A.call(this);this.F=Gh(H(),"docs-offline-lsuid");Eh(H(),"docs-offline-eeooip")&&(c=new cZd(a,b,c,d,h,l,m),this.Ba(c),c.init());this.H=new HBa;this.C=new bp(this.H,vBa());this.Ba(this.C);this.C.connect();this.D=new aYd;this.Ba(this.D);!Eh(H(),"docs-offline-eiedp")||Eh(H(),"docs-isd")&&!Eh(H(),"docs-offline-esdp")||(c=DBa("/iframeapi",void 0),c=new s3(this.F,c,1),this.Ba(c),a=new kZd(a,c,this.D,this.F,!1,!1,!1),this.Ba(a),a.start(),d=new WXd(e.xc(),c,this.C,b),this.Ba(d),
d.start(),b=new sYd(e,f,c,d,this.D,k,a,b,l),this.Ba(b),b.init())}x(yZd,A);function zZd(){A.call(this)}x(zZd,Cz);zZd.prototype.C=function(a,b,c,d,e,f,h,k,l){return new yZd(a,b,c,!0,d,e,f,h,k,l)};Jz("offline",zZd);
